# 0310 목요일 

* orm --> 쿼리셋으로 저장됨



## variable routing

* url에서 특정 부분을 변수처리하는 것 : variable routing





* urls.py

![image-20220310093714383](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310093714383.png)



* views.py

![image-20220310093836231](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310093836231.png)

![image-20220310094954408](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310094954408.png)







* detail.html

![image-20220310095021121](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310095021121.png)

![image-20220310100742597](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310100742597.png)





* index.html

articles:detail 이거는 pk도 넘겨줘야함

![image-20220310101152641](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310101152641.png)

id가 pk임

![image-20220310101319364](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310101319364.png)



* 작성시간 수정시간이 이상하면 

![image-20220310101821002](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310101821002.png)





* views.py 수정



![image-20220310102408091](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310102408091.png)







## delete (variable routing 응용)

![image-20220310102517957](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310102517957.png)

* urls.py

![image-20220310102604948](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310102604948.png)





* views.py

![image-20220310102943699](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310102943699.png)

![image-20220310103120366](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310103120366.png)

![image-20220310103328660](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310103328660.png)





* detail.html에서 삭제하기

![image-20220310103700380](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310103700380.png)

![image-20220310103816911](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310103816911.png)







* 터미널에서 보자면

빨간색 - detial 페이지

노란색 - 삭제

초록색 - redirect

![image-20220310103947372](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310103947372.png)

여기서 get을 바꿔야함

post, csrf 토큰으로 처리해주기

![image-20220310104534133](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310104534133.png)

* 바꿈

![image-20220310104518724](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310104518724.png)

### 헐! 근데 get방식으로 주소표시줄에 쓰면 삭제됨..

![image-20220310104813014](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310104813014.png)



### request의 동작에 따라 달리하기

![image-20220310105101335](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310105101335.png)







### update

![image-20220310110217160](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310110217160.png)



![image-20220310112106301](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310112106301.png)



![image-20220310111204796](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111204796.png)



* edit.html

![image-20220310111328806](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111328806.png)



* detial.html

![image-20220310111601999](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111601999.png)

![image-20220310111612183](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111612183.png)

![image-20220310111734541](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111734541.png)







## update

* urls.py

![image-20220310111901025](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310111901025.png)



* views.py

![image-20220310112137643](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310112137643.png)

![image-20220310112415137](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310112415137.png)





* 이렇게 작성

![image-20220310112636074](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310112636074.png)



* edit.html 의  action을 수정한다

![image-20220310112815655](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310112815655.png)







---

## sqlite

![image-20220310124939347](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310124939347.png)



`컨트롤+쉬프트+p` 누르고 오픈 데이터 베이스 선택, db.sqlite3선택



![image-20220310125125945](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310125125945.png)



![image-20220310125207289](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310125207289.png)





![image-20220310125247390](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310125247390.png)



![image-20220310125400832](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310125400832.png)







![image-20220310163612504](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310163612504.png)

![image-20220310163715622](0310%20%EB%AA%A9%EC%9A%94%EC%9D%BC.assets/image-20220310163715622.png)