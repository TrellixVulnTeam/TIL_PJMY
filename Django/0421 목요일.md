![image-20220421130347373](0421 목요일.assets/image-20220421130347373.png)





![image-20220421130234791](C:\Users\star3\AppData\Roaming\Typora\typora-user-images\image-20220421130234791.png)

![image-20220421130402184](0421 목요일.assets/image-20220421130402184.png)



시험에 이거 넣기..(알아야하는 정보임)

![image-20220421130507566](0421 목요일.assets/image-20220421130507566.png)





![image-20220421131305035](0421 목요일.assets/image-20220421131305035.png)



긴화살표는 직접 임포트 하는 것들, 그런것들은 아래쪽으로 

![image-20220421131323603](0421 목요일.assets/image-20220421131323603.png)

순서도 예쁘게 맞춰주기



![image-20220421132928095](image-20220421132928095.png)

메소드/ 패스

![image-20220421132939470](0421 목요일.assets/image-20220421132939470.png)

프로토콜, 상태메시지

![image-20220421132956925](0421 목요일.assets/image-20220421132956925.png)





![image-20220421133058520](0421 목요일.assets/image-20220421133058520.png)

create() C

update() Put

![image-20220421133215634](0421 목요일.assets/image-20220421133215634.png)



postman에서 send

![image-20220421133242265](0421 목요일.assets/image-20220421133242265.png)

어떤 필드를 내려줄지는 프앤이랑 협상



![image-20220421133921914](0421 목요일.assets/image-20220421133921914.png)

```shell
from articles.serializers import ArticleListSerializer


# 데이터 넣지 않고 그냥 만들기
serializer = ArticleListSerializer()

serializer
를 검색하면 id, title이 나옴

article = ArticleListSerializer(pk=1)

aricle

serializer = ArticleListSerializer(article)

serializer.data

```



# 바꾸기

urls.py

![image-20220421134441941](0421 목요일.assets/image-20220421134441941.png)



views.py에 작성

![image-20220421134553485](0421 목요일.assets/image-20220421134553485.png)



postman에 get요청 보냄

![image-20220421134525692](0421 목요일.assets/image-20220421134525692.png)

get요청 보냄

![image-20220421141854290](0421 목요일.assets/image-20220421141854290.png)



![image-20220421141959003](0421 목요일.assets/image-20220421141959003.png)



![image-20220421142102824](0421 목요일.assets/image-20220421142102824.png)

DRF에서 자동으로 걸러줌



## post 추가

![image-20220421142423443](0421 목요일.assets/image-20220421142423443.png)





![image-20220421142413563](0421 목요일.assets/image-20220421142413563.png)



![image-20220421142546036](0421 목요일.assets/image-20220421142546036.png)



``` 
{
	"username" : "aiden"
}

이라고 적고 다시 send 누르기 
 
```

body에 담아 보낸 데이터를 잘 받아주고 있음 (에러사이에 파묻혀있음)![image-20220421142633534](0421 목요일.assets/image-20220421142633534.png)





![image-20220421142841981](0421 목요일.assets/image-20220421142841981.png)



![image-20220421143104356](0421 목요일.assets/image-20220421143104356-16505190645311.png)

다시 send해보기

![image-20220421143118249](0421 목요일.assets/image-20220421143118249.png)





![image-20220421143651398](0421 목요일.assets/image-20220421143651398.png)



![image-20220421144053591](0421 목요일.assets/image-20220421144053591.png)

이 때는 상태코드가 200이 디폴트



그런데, fail이여도  상태코드는 200이 되어버림.

프앤은 상태코드를 보고 요청을 판단함 

![image-20220421144239482](0421 목요일.assets/image-20220421144239482.png)



![image-20220421144349038](0421 목요일.assets/image-20220421144349038.png)

얘를 추가해줌

![image-20220421144444752](0421 목요일.assets/image-20220421144444752.png)



위에 success도 200내려줘도되고 생략해도되지만, 뭔가를 생성하는 거니까 201로 내려주기.

셋다 상관 x

![image-20220421144724846](0421 목요일.assets/image-20220421144724846.png)



![image-20220421144902975](0421 목요일.assets/image-20220421144902975.png)

![image-20220421144909609](0421 목요일.assets/image-20220421144909609.png)



![image-20220421145155624](0421 목요일.assets/image-20220421145155624.png)

24번째 줄에서 raise_exception=True로 설정

![image-20220421145202373](0421 목요일.assets/image-20220421145202373.png)

자세한 상황을 내려줌





## delete추가

![image-20220421151752748](0421 목요일.assets/image-20220421151752748.png)



![image-20220421152002707](0421 목요일.assets/image-20220421152002707.png)

이러먼 터져서 왜인지 보니깐,,

40번째줄

![image-20220421152020513](0421 목요일.assets/image-20220421152020513.png)

![image-20220421152026091](0421 목요일.assets/image-20220421152026091.png)



delete를 put으로 해도, 되지만 취업이안됨 ㅋㅋ delete로 꼭 쓰기

![image-20220421152347356](0421 목요일.assets/image-20220421152347356.png)

DRF에선 디폴트로 csrf_token을 사용하지 않음



delete

![image-20220421154215951](0421 목요일.assets/image-20220421154215951.png)

![image-20220421154412415](0421 목요일.assets/image-20220421154412415.png)



![image-20220421154428608](0421 목요일.assets/image-20220421154428608.png)



한개만 수정이 되나???

![image-20220421154514339](0421 목요일.assets/image-20220421154514339.png)

에러남.

![image-20220421154610331](0421 목요일.assets/image-20220421154610331.png)

![image-20220421154620334](0421 목요일.assets/image-20220421154620334.png)









## comments

![image-20220421154806565](0421 목요일.assets/image-20220421154806565.png)

![image-20220421155125162](0421 목요일.assets/image-20220421155125162.png)

]

![image-20220421155143296](0421 목요일.assets/image-20220421155143296.png)

![image-20220421155158243](0421 목요일.assets/image-20220421155158243.png)

![image-20220421155312122](0421 목요일.assets/image-20220421155312122.png)

![image-20220421155339317](0421 목요일.assets/image-20220421155339317.png)





### 만약에 수정할때 제목이나 내용 중 하나만 고칠 수 있을까?

![image-20220421155627883](0421 목요일.assets/image-20220421155627883.png)



부분적으로 수정이 됨...우왕

![image-20220421155707620](0421 목요일.assets/image-20220421155707620.png)



![image-20220421161642933](0421 목요일.assets/image-20220421161642933.png)

![image-20220421161654351](0421 목요일.assets/image-20220421161654351.png)





다시 작성

![image-20220421161939706](0421 목요일.assets/image-20220421161939706.png)







## ㅇㅖ를 들어서

![image-20220421162544828](0421 목요일.assets/image-20220421162544828.png)

이렇게 만들고,  59번에 쓰면 알아서 article들어감

![image-20220421162825283](0421 목요일.assets/image-20220421162825283.png)

![image-20220421162947861](0421 목요일.assets/image-20220421162947861.png)

![image-20220421163003607](0421 목요일.assets/image-20220421163003607.png)알아서 article들어감





![image-20220421163505071](0421 목요일.assets/image-20220421163505071.png)





content만 보내도 잘들어감

![image-20220421163556895](0421 목요일.assets/image-20220421163556895.png)





![image-20220421164553200](0421 목요일.assets/image-20220421164553200.png)



갖고와서 serializer에 넣어서 Response를 때리자!



## comment_set

![image-20220421170925514](0421 목요일.assets/image-20220421170925514.png)

![image-20220421171051859](0421 목요일.assets/image-20220421171051859.png)



serializer

![image-20220421171447437](0421 목요일.assets/image-20220421171447437.png)

![image-20220421171647726](0421 목요일.assets/image-20220421171647726.png)





----

ppt4장  여기부터는 안나옴

![image-20220421171805251](0421 목요일.assets/image-20220421171805251.png)



### 시험 (ppt)

기본 crud, 1:n관계에서 댓글출력하기

post맨 사용할수 있음