# 뷰튭

![image-20220510205731311](0510 월요일 뷰튭 프로젝트.assets/image-20220510205731311.png)

* 키워드는 searchbar에서 받음 

* 디테일은 app.vue로 부터 porps으로 video를 받아서, api 에서 가져옴 (pass props만) 

* 

> app.vue

* header  - 서치
* section - 리스트
* section - 

![image-20220510210014681](0510 월요일 뷰튭 프로젝트.assets/image-20220510210014681.png)

> 서치바

* 검색한 애를 앱뷰로 emit해서 넘겨야함

* 키워드를 얻고, axios로 비디오도 얻음
* 현재 키워드, 비디오를 가지고 있는 상태
* 

> 비디오리스트



> 비디오리스트아이템



> 



---

> 1. 프로젝트 준비

* 프로젝트 생성 및 lodash설치

```bash
$ vue create youtube-project

// 2버전 선택 

$ cd youtube-project

// lodash 설치
$ npm i lodash

// axios 설치
$ npm i axios

// 서버 키기
$ npm run serve


$ npm install vue bootstrap bootstrap-vue
```

![image-20220510193615158](0510 월요일 뷰튭 프로젝트.assets/image-20220510193615158.png)

> 2. 유튜브 검색 데이터

> 2.1 컴포넌트 등록

``` vue
// app.vue

<template>
  <div id="app">
    <h1>My First Youtube Project</h1>
    <the-search-bar></the-search-bar>
  </div>
</template>

<script>
import TheSearchBar from '@/components/TheSearchBar'

export default {
  name: 'App',
  components: {
    TheSearchBar,
  }
}
</script>
```

> 2.2 유튜브 검색 데이터

![image-20220510194555250](0510 월요일 뷰튭 프로젝트.assets/image-20220510194555250.png)

``` vue
// TheSearchBar.vue

<template>
  <div>
    <input @keyup.enter="onInputKeyword" type="text">
  </div>
</template>

<script>
export default {
  name: 'TheSearchBar',
  methods: {
    onInputKeyword: function (event) {
      this.$emit('input-change', event.target.value)
    }
  }
}
</script>
```

> 2.3 이벤트 청취 후 함께 전달 된 데이터 할당

``` vue
// App.vue
<template>
  <div id="app">
    <h1>My First Youtube Project</h1>
    <the-search-bar @input-change="onInputChange"></the-search-bar>
  </div>
</template>

<script>
import TheSearchBar from './components/TheSearchBar.vue'

export default {
  name: 'App',
  data: function() {
    return {
      inputValue: null,
    }
  },
  methods: {
    onInputChange: function (inputText) {
      this.inputValue = inputText
    }
  },
  components: {
    TheSearchBar,
  }

}
</script>
```





> 3.1 유튜브 요청 & 응답 데이터 처리 (App.vue)

![image-20220510200600597](0510 월요일 뷰튭 프로젝트.assets/image-20220510200600597.png)

``` vue
// App.vue
<template>
  <div id="app">
    <h1>My First Youtube Project</h1>
    <header>
      <the-search-bar @input-change="onInputChange"></the-search-bar>
    </header>
    <section>
     
    </section>

  </div>
</template>

<script>
import axios from 'axios'
import TheSearchBar from './components/TheSearchBar.vue'


// API
const API_KEY = 'AIzaSyB8Vti_XlFN-lQHStsiYKnPtTerR-P3TIY'
const API_URL = 'https://www.googleapis.com/youtube/v3/search'

export default {
  name: 'App',
  data: function() {
    return {
      inputValue: null,
      videos: [],
    }
  },
  methods: {
    onInputChange: function (inputText) {
      this.inputValue = inputText

      const params = {
        key: API_KEY,
        part: 'snippet',
        type: 'video',
        q: this.inputValue,
      }

      axios({
        method: 'get',
        url: API_URL,
        params,
      })
        .then (res => {
          console.log(res)
          this.videos = res.data.items
        })
        .catch (err => {
          console.log(err)
        })
    }
  },
  components: {
    TheSearchBar,
  }

}
</script>
```



> 3.2 유튜브 요청 & 응답 데이터 처리 (App.vue)

![image-20220510200553821](0510 월요일 뷰튭 프로젝트.assets/image-20220510200553821.png)

``` vue
// App.vue
<template>
  <div id="app">
    <h1>My First Youtube Project</h1>
    <header>
      <the-search-bar @input-change="onInputChange"></the-search-bar>
    </header>
    <section>
     <video-list :videos="videos"></video-list>
    </section>

  </div>
</template>

<script>
import axios from 'axios'
import TheSearchBar from './components/TheSearchBar.vue'


// API
const API_KEY = 'AIzaSyB8Vti_XlFN-lQHStsiYKnPtTerR-P3TIY'
const API_URL = 'https://www.googleapis.com/youtube/v3/search'

export default {
  name: 'App',
  data: function() {
    return {
      inputValue: null,
      videos: [],
    }
  },
  methods: {
    onInputChange: function (inputText) {
      this.inputValue = inputText

      const params = {
        key: API_KEY,
        part: 'snippet',
        type: 'video',
        q: this.inputValue,
      }

      axios({
        method: 'get',
        url: API_URL,
        params,
      })
        .then (res => {
          console.log(res)
          this.videos = res.data.items
        })
        .catch (err => {
          console.log(err)
        })
    }
  },
  components: {
    TheSearchBar,
  }

}
</script>

```



> 3.3 유튜브 요청 & 응답 데이터 처리

![image-20220510201422978](0510 월요일 뷰튭 프로젝트.assets/image-20220510201422978.png)

``` vue
// VideoList.vue

<template>
  <ul>
    <video-list-item 
    v-for="video in videos"
    :key="video.id.videoId"
    :video="video">
      {{video.snippet.title}}
    </video-list-item>
  </ul>
</template>

<script>
import VideoListItem from '@/components/VideoListItem'
export default {
  name: 'VideoList',
  props: {
    videos: {
      type: Array,
      required: true,
    }
  }
}
</script>
```



> 3.4 유튜브 요청 & 응답 데이터 처리

![image-20220510201415675](0510 월요일 뷰튭 프로젝트.assets/image-20220510201415675.png)

``` vue
// VideoList.vue

<template>
  <ul>
    <video-list-item 
    v-for="video in videos"
    :key="video.id.videoId"
    :video="video">
      {{video.snippet.title}}
    </video-list-item>
  </ul>
</template>

<script>
import VideoListItem from '@/components/VideoListItem'
export default {
  name: 'VideoList',
  components: {
    VideoListItem,
  },
  props: {
    videos: {
      type: Array,
      required: true,
    }
  }
}
</script>
```





> 3.5 유튜브 요청 & 응답 데이터 처리

![image-20220510201440978](0510 월요일 뷰튭 프로젝트.assets/image-20220510201440978.png)



``` vue
// VideoListItem.vue

<template>
  <li>
    <img :src="video.snippet.thumbnails.default.url" alt="youtube-thumbnail-image">
    {{ video.snippet.title }}
  </li>
</template>

<script>

export default {
  name: 'VideoListItem',
  props: {
    video: {
      type: Object,
      required: true,
    }
  }
}
</script>
```





> 4.1 유튜브 영상 상세 정보

![image-20220510203103303](0510 월요일 뷰튭 프로젝트.assets/image-20220510203103303.png)

``` vue
// VideoListItem.vue

<template>
  <li @click="selectVideo">
    <img :src="video.snippet.thumbnails.default.url" alt="youtube-thumbnail-image">
    {{ video.snippet.title }}
  </li>
</template>

<script>

export default {
  name: 'VideoListItem',
  props: {
    video: {
      type: Object,
      required: true,
    },
  },
  methods: {
    selectVideo: function() {
      this.$emit('select-video', this.video)
    }
  }
}
</script>
```



``` vue
// VideoList.vue

<template>
  <ul>
    <video-list-item 
    v-for="video in videos"
    :key="video.id.videoId"
    :video="video"
    @select-video="onSelectVideo">
      {{video.snippet.title}}
    </video-list-item>
  </ul>
</template>

<script>
import VideoListItem from '@/components/VideoListItem'
export default {
  name: 'VideoList',
  components: {
    VideoListItem,
  },
  props: {
    videos: {
      type: Array,
      required: true,
    },
  },
  methods: {
    onSelectVideo: function(video) {
      this.$emit('select-video', video)
    }
  }
}
</script>
```



> 4.2 유튜브 영상 상세 정보 (app.vue완성)

![image-20220510213415104](0510 월요일 뷰튭 프로젝트.assets/image-20220510213415104.png)

``` vue
// App.vue
<template>
  <div id="app">
    <h1>My First Youtube Project</h1>
    <header>
      <the-search-bar @input-change="onInputChange"></the-search-bar>
    </header>
    <section>
      <video-detail :video="selectedVideo"></video-detail>
      <video-list :videos="videos" @select-video="onVideoSelect"></video-list>
    </section>

  </div>
</template>

<script>
import axios from 'axios'
import TheSearchBar from './components/TheSearchBar.vue'
import VideoList from './components/VideoList.vue'
import VideoDetail from './components/VideoDetail.vue'

// API
const API_KEY = 'AIzaSyB8Vti_XlFN-lQHStsiYKnPtTerR-P3TIY'
const API_URL = 'https://www.googleapis.com/youtube/v3/search'

export default {
  name: 'App',
  data: function() {
    return {
      inputValue: null,
      videos: [],
      selectedVideo: null,
    }
  },
  methods: {
    onInputChange: function (inputText) {
      this.inputValue = inputText

      const params = {
        key: API_KEY,
        part: 'snippet',
        type: 'video',
        q: this.inputValue,
      }

      axios({
        method: 'get',
        url: API_URL,
        params,
      })
        .then (res => {
          console.log(res)
          this.videos = res.data.items
        })
        .catch (err => {
          console.log(err)
        })
    },
    onVideoSelect: function(video) {
      this.selectedVideo = video
    },
  },
  components: {
    TheSearchBar,
    VideoList,
    VideoDetail,
  }

}
</script>


<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```



> 4.3 유튜브 영상 상세 정보 App.vue

![image-20220510204711196](0510 월요일 뷰튭 프로젝트.assets/image-20220510204711196.png)







> 4.4 

![image-20220510204920825](0510 월요일 뷰튭 프로젝트.assets/image-20220510204920825.png)

``` vue
// VideoDetail.vue

<template>
  <div>
    {{ video }}
  </div>
</template>

<script>

export default {
  name: 'VideoDetail',
  props: {
    video: {
      type: Object,
    },
  },
}
</script>
```



> 4. 5

``` vue
// VideoDetail.vue

<template>
  <div v-if="video" class="video-detail">
    <iframe :src="videoURI" frameborder="0"></iframe>
  </div>
</template>

<script>
  //import _ from 'lodash'

  export default {
    name: 'VideoDetail',
    props: {
      video: {
        type: Object,
      },
    },
    computed: {
      videoURI: function() {
        const videoId = this.video.id.videoId
        return `https://www.youtube.com/embed/${videoId}`
      },
    },
  }
</script>
```







----

# 부트스트랩

main.js

```` 
import BootstrapVue from 'bootstrap-vue'
import 'bootstrap/dist/css/bootstrap.min.css'
import 'bootstrap-vue/dist/bootstrap-vue.css'
Vue.use(BootstrapVue)
````

app.vue

![image-20220510223624872](0510 월요일 뷰튭 프로젝트.assets/image-20220510223624872.png)





서치바.vue

``` vue
<template>
  <div>
    <input @keyup.enter="onInputKeyword" type="text" class="text-center w-75">
  </div>
</template>

<script>
export default {
  name: 'TheSearchBar',
  methods: {
    onInputKeyword: function (event) {
      this.$emit('input-change', event.target.value)
    }
  }
}
</script>

<style>
input {
  font-size: 1rem;
  border: 0;
  outline: 0;
  background: transparent;
  border-bottom: 3px solid rgb(161, 53, 228);
}
</style>
```





리스트 

![image-20220510224419610](0510 월요일 뷰튭 프로젝트.assets/image-20220510224419610.png)

![image-20220510224410445](0510 월요일 뷰튭 프로젝트.assets/image-20220510224410445.png)

``` vue
// VideoList.vue

<template>
  <ul class="list-group list-group-flush">
    <video-list-item 
    v-for="video in videos"
    :key="video.id.videoId"
    :video="video"
    @select-video="onSelectVideo">
      {{video.snippet.title}}
    </video-list-item>
  </ul>
</template>

<script>
import VideoListItem from '@/components/VideoListItem'
export default {
  name: 'VideoList',
  components: {
    VideoListItem,
  },
  props: {
    videos: {
      type: Array,
      required: true,
    },
  },
  methods: {
    onSelectVideo: function(video) {
      this.$emit('select-video', video)
    }
  }
}
</script>

```





리스트아이템

``` vue
// VideoListItem.vue

<template>
  <li @click="selectVideo" class="list-group-item d-flex justify-content-start">
    <img :src="video.snippet.thumbnails.default.url" alt="youtube-thumbnail-image">
    <p class="d-flex align-items-center ms-3"> {{ video.snippet.title }} </p>
  </li> 
</template>

<script>

export default {
  name: 'VideoListItem',
  props: {
    video: {
      type: Object,
      required: true,
    },
  },
  methods: {
    selectVideo: function() {
      this.$emit('select-video', this.video)
    }
  },
  
}
</script>
```

